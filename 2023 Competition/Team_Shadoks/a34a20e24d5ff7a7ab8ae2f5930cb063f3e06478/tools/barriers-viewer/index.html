<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Barriers Viewer</title>
  <meta name="author" content="Aldo Gonzalez-Lorenzo">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <style>
    div#app { border: 1px solid; }
    ul#tasks { height: 20rem; overflow: scroll; }
    select#maps { width: 15rem; }
    input#location { width: 6rem; }
  </style>
</head>

<body>
  <div class="container-fluid">
    <h1 class="h3">Barriers Viewer</h1>
    <p>
      See also the <a href="../mapf-viewer/index.html">MAPF Viewer</a>.
    </p>
    <div class="row mt-3">
      <div class="col-auto">
        <div id="app"></div>
      </div>
      <div class="col">
        <div class="row">
          <div class="col-auto">
            <p class="mb-1">
              <select class="form-select" id="maps">
                <option value="Paris_1_256">Paris_1_256</option>
                <option value="random-32-32-20" selected>random-32-32-20</option>
                <option value="brc202d">brc202d</option>
                <option value="sortation_large">sortation_large</option>
                <option value="warehouse_large">warehouse_large</option>
                <option value="warehouse_small">warehouse_small</option>
              </select>
            </p>
            <p class="mb-1">
              <button type="button" class="btn btn-secondary btn-sm" id="reset">Reset viewer</button>
              <span id="coords"></span>
            </p>
            <p>
              <label>
                  Location <input type="number" id="location" min="0" value="0">
              </label>
              <span id="location-coords"></span>
            </p>
          </div>
          <div class="col-auto">
            <textarea rows="8" cols="30">{"E":[40,96,97,65,98,99,192,193,194,195,163,164,132,133,134,135,104,41,42,11,12,13,14,15,43,105,137,136,138,107,76,80,48,49,18,19,82,81,115,116,84,85,54,55,24,25,26,27,28,29,30,117,111,207,206,205,140,263,264,265,266,267,235,236,238,239,240,208,209,241,242,243,179,178,180,212,213,214,150,183,184,153,121,122,90,123,156,93,126,158,220,221,254,284,251,317,318,215,273,269,268,300,299,298,297,288,448,449,418,354,258,323,324,325,326,327,328,329,330,355,387,388,389,390,421,420,419,454,455,423,424,425,426,427,428,429,365,366,367,368,430,456,489,490,520,519,482,481,512,515,516,672,673,609,610,578,579,580,581,549,550,582,583,584,611,674,768,769,770,771,739,740,676,677,709,741,772,864,897,929,930,931,964,996,995,994,997,998,999,806,774,775,650,555,587,588,589,590,591,463,464,432,465,466,402,338,339,308,309,310,311,375,404,340,403,437,438,439,440,408,468,467,533,592,560,528,498,712,744,745,714,776,808,807,809,810,811,812,717,685,686,687,688,718,750,751,813,874,873,904,936,875,876,877,878,846,817,786,755,691,659,628,724,725,726,727,599,600,569,505,473,474,411,379,380,412,413,414,443,475,506,538,539,508,570,602,601,603,635,636,637,638,728,696,787,818,879,912,913,975,974,973,940,1004,1003,1002,1001,1000,976,855,856,857,826,858,859,860,764,765,766,702,797,829,861,886,918,948,949,1011,1012,1013,1014,919,920,921,922,923,952,984,985,1015,988,1022,1021,504,632,756,401,619,805,837,836,835,834,353,185,196],"S":[8,37,5,3,2,1,33,64,65,66,34,67,68,100,99,131,128,96,160,161,162,163,132,102,70,72,41,16,15,14,13,12,44,43,74,106,105,108,76,77,45,79,47,48,20,52,50,83,84,31,30,29,28,27,26,58,89,86,118,117,116,115,146,81,141,109,140,172,203,136,135,167,199,231,232,233,234,235,204,206,207,208,177,178,210,148,147,149,181,151,119,121,90,91,59,124,126,94,62,61,63,157,156,188,189,222,255,254,252,220,285,286,287,319,318,317,347,185,184,216,215,247,244,243,242,241,274,306,239,237,268,267,266,265,264,263,196,195,194,226,224,192,256,257,289,321,352,353,384,416,291,259,227,293,294,295,296,298,299,331,330,328,327,326,325,324,356,357,358,359,391,390,389,388,422,423,395,363,333,301,335,303,336,337,369,368,400,431,430,462,494,428,427,426,458,459,491,490,455,454,450,449,448,480,483,484,485,517,516,515,546,577,608,640,578,547,548,549,585,584,581,580,612,644,675,707,673,672,704,736,737,738,739,645,646,678,710,742,741,773,772,771,770,769,768,800,832,865,898,897,932,965,964,962,930,616,617,523,524,556,558,526,432,433,401,276,277,278,279,312,311,343,344,376,375,373,341,309,405,406,407,408,409,377,441,440,472,438,437,469,501,502,534,533,565,596,627,625,593,561,529,466,467,499,591,590,622,653,651,713,715,683,747,746,745,777,776,778,779,780,654,655,656,657,689,688,687,719,720,721,752,751,782,814,813,812,811,843,841,809,874,844,845,846,692,660,628,629,597,659,379,348,349,381,383,351,415,447,413,412,444,476,475,507,508,509,477,478,479,540,539,571,570,572,604,603,636,639,638,670,701,697,729,761,792,788,756,787,819,818,849,848,880,881,878,877,876,908,909,941,974,977,851,854,822,823,824,827,733,732,735,703,671,767,766,798,830,862,861,860,859,858,857,856,886,885,884,916,917,949,948,979,980,981,982,888,889,890,891,892,924,923,922,921,953,954,986,985,956,990,989,473,685,774,805,804,803,802,836,903,270,186,154],"W":[2,3,4,5,6,7,8,9,73,72,71,70,69,68,35,34,65,67,132,163,162,161,74,75,48,47,46,45,76,107,140,109,110,111,80,84,63,62,61,60,59,90,121,120,119,150,149,148,147,178,177,113,173,205,204,235,234,233,168,200,232,238,158,95,189,287,286,284,351,350,349,348,379,378,218,217,249,248,279,278,277,276,275,338,337,304,271,302,297,296,295,294,261,228,227,258,257,353,385,260,363,362,361,360,359,358,357,423,336,401,432,463,526,525,460,459,458,492,524,523,522,487,486,485,484,481,549,548,547,578,609,617,616,648,647,646,613,645,676,739,738,705,737,774,805,804,803,802,801,904,649,650,313,345,344,377,408,407,406,473,504,503,470,502,566,597,628,659,658,530,531,657,656,623,655,654,685,684,683,714,747,748,781,780,779,778,782,783,721,720,753,784,815,846,845,844,906,848,849,850,661,632,479,478,445,477,508,541,510,511,572,668,671,702,733,732,731,730,793,824,823,822,821,820,851,883,882,881,910,909,942,1006,1009,884,885,886,855,799,894,893,892,891,890,889,888,918,917,983,982,981,980,984,957,956,955,954,1018,1017,990,991,839,868,871,903,935,936,303],"N":[41,72,67,196,197,165,136,105,74,43,107,139,112,81,50,117,86,56,208,176,144,237,205,232,200,268,270,241,244,212,215,185,154,127,159,283,377,345,313,281,249,336,303,301,329,293,260,450,419,387,355,361,393,456,457,425,430,398,524,492,489,521,551,519,513,674,642,611,582,583,615,647,645,737,772,741,709,1000,968,936,903,871,839,807,776,744,712,680,682,651,619,587,620,592,560,528,496,467,435,403,371,340,502,530,655,714,746,780,813,782,750,718,815,847,905,937,879,849,818,787,756,757,728,696,664,632,631,633,601,570,538,506,475,443,412,477,667,882,914,944,976,1008,974,942,1005,887,858,861,829,797,919,950,982,1015,1016,984,952,989,1023,838,870,867,902,934]}</textarea><br>
            <button type="button" class="btn btn-primary btn-sm" id="edit">Load solution <i class="bi bi-check"></i></button>
          </div>
        </div>
      </div>
    </div>
  </div>

	<script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
  <script src="svg.panzoom.js"></script>
  <script src="svg.draggable.js"></script>
  <script src="main.js"></script>
  <script src="data.js"></script>
  <script>
    const app = new Application()
    document.querySelector('#edit').addEventListener('click', () => {
      app.update_solution()
    })
    document.querySelector('#reset').addEventListener('click', () => {
      app.reset_viewer()
    })
    document.querySelector('#maps').addEventListener('change', (e) => {
      app.set_instance(e.target.value)
    })
    document.querySelector('#location').addEventListener('change', (e) => {
      app.show_coordinates(Number(e.target.value))
    })
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>

</html>